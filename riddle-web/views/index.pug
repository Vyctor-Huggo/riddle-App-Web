//- layout.pug - Template base
doctype html
html(lang="pt-br")
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title #{title || "Riddle App"}
    style.
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #F3F4F6; /* fundo cinza claro */
        color: #111827;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      header, footer {
        background-color: #FFFFFF;
        padding: 1rem 2rem;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }

      header img {
        width: 80px;
        height: 80px;
        object-fit: contain;
        display: block;
        margin: 0.5rem auto;
      }

      main {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 2rem;
      }

      main img {
        max-width: 300px;
        margin: 1rem 0;
      }

      button {
        padding: 0.75rem 2rem;
        font-size: 1rem;
        font-weight: bold;
        border: none;
        border-radius: 0.5rem;
        background-color: #4F46E5; /* azul */
        color: white;
        cursor: pointer;
        transition: all 0.3s;
      }

      button:hover {
        background-color: #4338CA;
      }

      footer {
        font-size: 0.875rem;
        color: #6B7280;
      }

      tip {
        font-size: 0;
        color: #F3F4F6;
      }

  body
    header
      h1 Nosso Riddle
      img(src='https://www.kindpng.com/picc/m/84-846268_formato-png-a-jpg-grupo-pica-pica-transparent.png', alt="Header Image")

    main
      if mainText
        p(style="font-size:1.5rem; margin-bottom:1rem") #{mainText}
      if mainImage
        img(src=mainImage, title=altMainImg)
      button#adivinhar-btn Adivinhar

    footer
      if tip
      tip #{tip}
      p #{footerText || "© 2025 Riddle App"}

    script.
      document.getElementById('adivinhar-btn').addEventListener('click', () => {
        const userAnswer = prompt('Digite sua resposta:');
        if (userAnswer !== null) {
          const correctAnswer = !{JSON.stringify(response)};
          const nextPage = !{JSON.stringify(nextPage)}; // URL enviada pelo Express
          if (userAnswer.trim().toLowerCase() === correctAnswer.toLowerCase()) {
            alert('Parabéns! Resposta correta!');
            window.location.href = nextPage; // redireciona para a página enviada pelo Express
          } else {
            alert('Resposta incorreta. Tente novamente.');
          }
        }
      });

